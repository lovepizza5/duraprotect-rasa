#rules.yml
version: "3.1"

rules:
  - rule: Say goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Ask for details when user reports issue
    steps:
      - intent: report_issue
      - action: utter_ask_for_details

  # Start reclamation form once user describes the problem
  - rule: Activate reclamation form on problem description
    steps:
      - intent: problem_description
      - action: reclamation_form
      - active_loop: reclamation_form

  - rule: Submit reclamation form
    condition:
      - active_loop: reclamation_form
    steps:
      - action: reclamation_form
      - active_loop: null
      - action: action_submit_reclamation
      - action: utter_goodbye

  # Tracking form (ID only)
  - rule: Activate tracking form
    steps:
      - intent: track_reclamation
      - action: track_reclamation_form
      - active_loop: track_reclamation_form

  - rule: Submit tracking form
    condition:
      - active_loop: track_reclamation_form
    steps:
      - action: track_reclamation_form
      - active_loop: null
      - action: action_track_reclamation

  # Company info rules
  - rule: Respond to company info request
    steps:
      - intent: ask_company_info
      - action: utter_company_info

  - rule: Respond to company history
    steps:
      - intent: company_history
      - action: utter_company_history

  - rule: Respond to company services
    steps:
      - intent: company_services
      - action: utter_company_services

  - rule: Respond to company contact
    steps:
      - intent: company_contact
      - action: utter_contact

  - rule: Respond to company values
    steps:
      - intent: company_values
      - action: utter_company_values

  - rule: Respond to company mission
    steps:
      - intent: company_mission
      - action: utter_company_mission

  - rule: Respond to product support
    steps:
      - intent: product_support
      - action: utter_product_support

  - rule: Respond to system security
    steps:
      - intent: system_security_questions
      - action: utter_system_security_questions
